Master Forge
===================

Welcome to the Official Master Forge guide. You can select the links
below to navigate to the topics that you find most relevant.

.. _M4G:
.. image:: /assets/images/M4G.webp
  :width: 1200
  :alt: The Master Forge

The Master Forge bundle consists of two :ref:`Forge Digitizers<Digitizers>`, a :ref:`mechanical bridge connector<Master Forge:Mechanical Bridge Connector>` to join the two, and, possibly, depending on which variation you purchased, some additional :doc:`bolt-ons<Bolt-Ons>` and :doc:`add-ons<Add-Ons>`. This section will discuss each of the items included in any of the Master Forge bundles, regardless of the specific configuration.

:ref:`Click here to skip to the Getting Started Guide.<Master Forge:Getting Started>`

.. contents:: Table of Contents of this Page
   :local:

Out of the Box
**************

Parts
-----

.. _Case:

.. _M4G Schema:
.. image:: /assets/images/M4G-Separated.webp
  :width: 1200
  :alt: M4G parts


When you first receive your Master Forge Bundle, it will come in a cardboard
box. Once you open the box, you’ll find your brand new Master Forge inside its tactical carrying case. You will also find an insert that includes the layout of the device and some functions that the Master Forge has.

.. _M4G Case:
.. image:: /assets/images/Case.webp
  :width: 1200
  :alt: Original Backer Case

Once you open the tactical case, you’ll meet your shiny, new Master Forge. The Master Forge consists of two digitizers with 8, 5-way switches, joined together by a :ref:`mechanical bridge connector<Master Forge:Mechanical Bridge Connector>`.

The Digitizers
~~~~~~~~~~~~~~~

Your device will come with two Digitizers which, together, comprise the Master Forge. Each digitizer typically corresponds to each hand and is designed for the ergonomics and comfort of each hand. The digitizers are composed of a 3D printed endoskeleton and a machined-aluminum exoskeleton. The exoskeleton of the digitizer is actually two pieces which are the trapezoidal-shaped “shell,” and the flat and partially hollowed out “baseplate”. They are held together by five M2, Philips screws which are
under the “feet” pads of the device. The feet are round, rubberized and help the device to have a grip on desks and other smooth surfaces.

There are two different kinds of digitizers, each of which can be purchased individually; the left digitizer and the right digitizer. Each one contains a :doc:`Platinum CharaChorder Core<CharaChorder Core>` where they store chords, layouts, and settings. 

The front of each digitizer has a slotted rail which allows :doc:`bolt-ons<Bolt-Ons>` to be "bolted" onto the digitizer. An example of a :doc:`bolt-on<Bolt-Ons>` is the :ref:`bridge connector<The Bridge Connector>`. Along this slotted rail you'll find two USB-C ports on each digitizer, one at the exterior edge of each "shoulder."

.. _M4G Frontside:
.. image:: /assets/images/M4g-Front.webp
  :width: 1200
  :alt: Picture showing the bridge connector and the ports

The underside of the each digitizer is partially hollow to allow for cables and connections to happen in a discreet manner underneath the device. Inside the cavity, we can find two additional USB-C ports and downward facing LED clusters. 

.. _M4G Below:
.. image:: /assets/images/M4G-Under.webp
  :width: 1200
  :alt: Bottom side of the Master Forge

On the sides of each digitizer, you'll notice the :ref:`bookend rails<The Bookend Rails>`. Under each rail, on the body of the digitizer, you'll see holes for the screws that hold the bookend rails in place. 

.. _M4G Side:
.. image:: /assets/images/M4G-Side.webp
  :width: 1200
  :alt: Original Backer Case

The Bridge Connector
~~~~~~~~~~~~~~~~~~~~~

Out of the box, your :ref:`digitizers<The Digitizers>` will be connected by a mechanical bridge :doc:`bolt-on<Bolt-Ons>`. This :doc:`bolt-on<Bolt-Ons>` is also machined-aluminum and made from a slotted rail. It's held in place by two, M3 nylon screws. Nylon screws don't "set" into the aluminum like steel screws, which prevents damage to the slotted rails, since the slotted rails at the front of the device don't have any holes for screws to go into. It's more of a friction hold, which is a key concept of :doc:`bolt-ons<Bolt-Ons>`. 

.. _M4G Bridge Connector:
.. image:: /assets/images/Bridge.webp
  :width: 1200
  :alt: The Mechanical and Electrical bridges

Additionally, the two :ref:`digitizers<The Digitizers>` are connected by the electrical bridge connector, also known as the mini-connector. This piece fits inside the cavity of the :ref:`mechanical bridge connector<Mechanical Bridge Connector>` and should be removed BEFORE removing the mechanical bridge connector.

.. note::
    When separating the digitizers, the :ref:`electrical bridge connector<Electrical Bridge Connector>` should be removed before the :ref:`mechanical bridge connector<Mechanical Bridge Connector>`. 

    Similarly, when putting the digitizers together again, they should be assembled in reverse order of how they were disassembled; that is, the :ref:`mechanical bridge connector<Mechanical Bridge Connector>` should be secured into place before pressing the :ref:`electrical bridge connector<Electrical Bridge Connector>` into place.


The electrical bridge connector is a thin printed circuit board that ends in a USB-C plug on either side. This makes it so that the front right port of the left digitizer feeds into the front left port of the right digitizer. 

When connected by the official Forge bridge connector, the left digitizer should be the one connected directly to your computer. See :ref:`Getting Started<tag?>` for more information about this.

The Bookend Rails
~~~~~~~~~~~~~~~~~~~

Each :ref:`digitizer<The Digitizers>` of the Master Forge comes with three removable bookend rails. These rails are what allow the digitizers to attach to other :doc:`anchor bodies<Anchor Bodies>` and :ref:`bolt-ons<Bolt-Ons>`. 

.. _M4G Rails:
.. image:: /assets/images/Rails.webp
  :width: 1200
  :alt: The three Bookend Rails

The bookend rails are made of machined aluminum and are held in place on the body of the :ref:`digitizers<The Digitizers>` by two (size), steel screws. 

The Splitter
~~~~~~~~~~~~~~

Included with every Master Forge order is a 3D-printed Splitter. This piece serves to prevent anything from falling into the space between the forge :ref:`digitizers<The Digitizers>` whenever these are connected by the :ref:`bridge connector<The Bridge Connector>`.

.. _M4G Splitter:
.. image:: /assets/images/Splitter.webp
  :width: 1200
  :alt: The Splitter

The Switches
~~~~~~~~~~~~

Instead of the one-dimensional buttons that traditional keyboards use,
Forge :ref:`digitizer<The Digitizers>` levers, which we will call switches, detect motion in three-dimensions so users have access to 64 unique inputs without their fingers breaking contact with the device. The :ref:`digitizer<The Digitizers>` switches produce a digital input, as opposed to analog. All of the switch caps are 3D-printed and measure [measurements]. Under the switch cap, there's a stem that's [measurements] thick and square in shape. The stem is not removable without disassembling the device whereas the caps are hot-swappable.

Each :ref:`digitizer<The Digitizers>` has eight 5-way switches. Starting from the outside on each :ref:`digitizer<The Digitizers>` and working inwards, the switches correspond to the following fingers; pinky, ring, middle, and index. The two switches along the "torso," that is, the inner-most side of each :ref:`digitizer<The Digitizers>`, correspond to the thumb. You can see what characters are on each switch by default in :doc:`Layout<Layout>`. Additionally, there are two more switches not on the “home-row” which can be accessed by the ring and middle fingers. The correct positioning of your fingers is for them to follow the arc in which the switches are laid out.

.. note::
   **IMPORTANT**: In this manual, we will refer to switches in the
   following way, starting from the pinky finger and working inwards:
   pinky, ring, middle, index, thumb 1, and thumb 2. The
   switches below the “home-row” will be referred to as the aux 1 and aux 2    
   switches, where the switch further to the left on the left digitizer
   is aux 1. Symmetrically, aux 1 is the switch furthest to the right on the 
   right half.

Each switch has five press-able directions. Throughout this guide, we
will use cardinal directions to refer to the directions in which each
switch can move, with _`north` being forward, away from your body. Switches
can move north, south, west, east and down, into the device. Note that unlike the CC2, pressing switches into the device on the Master Forge is a chorded input which activates all four directions simultaneously. Please be
mindful that, as part of the device’s ergonomics, each switch has a
slightly different angle, so feel free to familiarize yourself with your
new device.

Out of all eight switches, the pinky switch is made to be wider than the other seven in order to make using it easier, and also more optimized for held-key press functionality like that used with the shift key or layered keymaps.

Earlier, we mentioned the five directions in which a switch can be
actuated, or pressed. Aside from the four cardinal directions, each
switch can be pressed down, into the device. We often refer to this
press as a 3D press, since it’s not a lateral movement, but rather a
movement along the Z axis of the switch. This special press requires no
lateral movement in order to work, just apply force onto the switch
“into” the device. 

The four cardinal directions on a switch can be mapped
to a configurable key, which can include letters, numbers, symbols,
control keys and even function keys. You can see the most current list
of configurable action codes in the `Device Manager <https://manager.charachorder.com/config/layout/>`__. The 3D press cannot be assigned to an individual character, but, instead, allows you to press all four cardinal directions on a switch simultaneously, as a :doc:`chord<Chording>`. 

Connections
-----------

Every Master Forge order will come with the power
cable that goes out to the computer inside the box. The power cable included with every Master Forge is a standard, braided USB-A to USB-C cable. Some :ref:`configurations<Master Forge Configurations>` may include an additional cord. To know what's included in your order, read the :ref:`configurations<Master Forge:Master Forge Configurations>` section.

.. _M4G Power Cable:
.. image:: /assets/images/Power-Cable.webp
  :width: 1200
  :alt: The Power cable included with the Master Forge

Another cable that may be included with your order is a 3.2 gen 2, braided USB-C to USB-C cable. This cord is meant to be used if you choose to separate your :ref:`digitizers<The Digitizers>`.

.. dropdown:: Things to remember if you separate your digitizers
    
    There are two main things to remember if you choose to use your Master Forge separated: 
        1. The cable that you use to connect the digitizers must be a 3.2 gen 2, C to C cable.
        2. As pointed out in the :ref:`getting started section<Port Requirement>` of this page, power to an :doc:`anchor body<Anchor Bodies>` or :ref:`bolt-on<Bolt-Ons>` must be received through the front left USB-C port. This means that every anchor body or bolt-on that you add to your system has to be linked to the Master through the port on the front left.   

Getting Started
*******************

The Master Forge is plug-and-play, so it doesn’t require any
additional software to work. Before plugging your Forge in for
the first time, it’s important to make sure that either the :ref:`electrical bridge connector<Master Forge:The Bridge Connector>` or a USB-C cable is correctly plugged into both :ref:`digitizers<Master Forge:The Digitizers>`. 

.. _Port Requirement:
All Forge :doc:`anchor bodies<Anchor Bodies>`, including the Master Forge Digitizers, should be connected to a power source through their front, left USB-C port. It's important to use that specific port to connect your device to your computer because no other port will permit your Forge to function correctly. As a rule of thumb, all Forge :doc:`anchor bodies<Anchor Bodies>` must receive power through their front, left port. The other three ports are outgoing ports in order to connect other :doc:`anchor bodies<Anchor Bodies>` and :doc:`bolt-ons<Bolt-Ons>`. Each additional :doc:`anchor body<Anchor Bodies>` or :doc:`bolt-on<Bolt-Ons>` will need to "receive" power from the "Master" :doc:`anchor body<Anchor Bodies>`, or from an :doc:`anchor body<Anchor Bodies>` or :doc:`bolt-on<Bolt-Ons>` connected to the Master. A "Master" :doc:`anchor body<Anchor Bodies>` is the one connected directly to your computer. Please note that some :doc:`bolt-ons<Bolt-Ons>` may function as a Master.

If you haven't done so, now would be the time to plug the included USB-C to USB-A cable included with your order into the LEFT :doc:`digitizer<Master Forge:The Digitizers>`. If you would rather use an after-market USB-C to USB-C cable instead, due to a personal preference or computer requirement, that is also okay. Regardless of your selection, we'll refer to the cable that connects directly to the computer as the sole Power Cable. If you have any additional :doc:`bolt-ons<Bolt-Ons>`, now would be a good time to plug them into your Master. 

.. warning::
   IMPORTANT: During your first time plugging your Forge in,
   and every time thereafter when you have :doc:`realtime-feedback<GenerativeTextMenu>` enabled, it’s
   recommended that you have your cursor in a blank typing space. :doc:`CCOS<CharaChorder Operating System (CCOS)>` devices, of which the Master Forge is one, have a welcome message that can send instructions to your 
   computer that are not intended by the user. This feature can be disabled in
   the :doc:`GTM<GenerativeTextMenu>`. 

Once you have your setup connected, you can plug the Master Cable into your computer. Upon connecting, you may notice the following things: 
    If your cursor is somewhere where text can be entered… 
        - You will first see the text “Loading ### Chordmaps” highlighted, and a few moments later, “CCOS is ready.” 
    Regardless of whether or not your cursor is somewhere where text can be entered… 
        - The LED lights under your :doc:`digitizers<Digitizers>` will start their rainbow cycle.

If you have :ref:`realtime feedback<GenerativeTextMenu:Realtime feedback>` enabled, once you can see the highlighted text that reads
“CCOS is ready”, your device is ready to be used.

.. note::
   IMPORTANT: :ref:`Realtime feedback<GenerativeTextMenu:Realtime feedback>` is enabled by default on new CharaChorder devices.

If this is your very first time using a :doc:`CCOS<CharaChorder Operating System (CCOS)>` device, we recommend the following:
    #. Place your cursor into a place where it's safe to type
    #. Place your hands on the :doc:`digitizers<Master Forge:The Digitizers>` and nestle your fingers on the switches
    #. Move your index, middle, and ring fingers southwards, towards your body, one at a time. 

These directions correspond to the letters U, O, E, T, N, and S. Now, let's try a :doc:`chord<Chording>`. 

.. dropdown:: How to perform a Chord? 

    A chord is a type of input that allows you to press multiple keys at a time in order to achieve a predetermined :ref:`output<Chords:Chord Output>`. In order to perform a chord, you must press all of the :ref:`input keys<Chords:Chord Input>` at the same time, within the :ref:`press time limit<GenerativeTextMenu:Press Tolerance>`. Additionally, you must release all of the keys at the same time, that is, within the :ref:`release time limit<GenerativeTextMenu:Release Tolerance>`. Once these steps are performed accurately, your CCOS device will, very quickly, type the keys pressed, backspace them, and then output the predetermined chord. 

We can test out your preloaded chords, of which there are 500, by :doc:`chording<Chords>` both index fingers South, towards your body. You might need to play around with the timing a bit. Just remember that you have to press both switches together, at the same time, and then release them at the same time. As mentioned before, it might take a bit of playing around with the timing, but, eventually, you should see the word "the" output onto your typing space. Congratulations! You just performed a chord!

.. dropdown:: Some other chords you can try
    
    Here are some other preloaded chords that you can try. You can read the section on :ref:`chord notation<Chords:Chord Notation>` for instructions on how to interpret the following chords.
        - c+b = because
        - m+b = maybe
        - u+o+y = you

Now that you're up and running, and that you know how to perform chords, you can head over to the :doc:`training section<Tools>` for instructions
on how to get started with learning your device. If you want to just
jump in without having to read a minute longer, head on over to our
training website; https://www.iq-eq.io/#/

.. _Dot I/O:
.. image:: /assets/images/DOTIO.png
  :width: 1200
  :alt: Practicing on DOT I/O

Setting Up
-----------

There are a few steps that you’ll likely want to take if this is your
first time using your Master Forge. In the following section, we
will update your device, explain navigation in the :doc:`GTM<GenerativeTextMenu>`, and demonstrate the default layout on your new device.

Updating your Device
~~~~~~~~~~~~~~~~~~~~~

.. _M4G-checking-your-devices-firmware:

Checking your Device’s Firmware
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

You can check your device’s current firmware by following the steps
below: 

#. On a chromium based browser, such as Chrome, go to the CharaChorder `Device Manager <https://charachorder.io/config/layout/>`__ 
#. Click “Connect” at the bottom center of the page
   
.. _Connect Button:
.. image:: /assets/images/FW-connect-button.jpg
  :width: 600
  :alt: Connect Button on Device Manager
3. When the popup box comes up that reads “charachorder.io wants to connect to a serial port,” choose your Master Forge, then click the blue “connect” button

.. _Serial Port Popup:
.. image:: /assets/images/SerialPort-Message.jpg
  :width: 600
  :alt: Popup to select serial device

After following the above steps, you can find your
firmware version in the bottom left of your screen. It will read something like this:
``CCOS 2.0.2``

.. _Firmware Check:
.. image:: /assets/images/DMFW.png
  :width: 600
  :alt: Checking the firmware on Device Manager

Updating the Firmware
^^^^^^^^^^^^^^^^^^^^^^^

If you find that your device is not running the latest firmware version,
you can follow the steps below to update your device. You can check
which is the latest firmware release by visiting `this
site <https://charachorder.io/ccos/m4g_s3/>`__. 

.. warning::
   IMPORTANT: Before performing the below steps, please make sure that you have a :ref:`backup of your layout<Device Manager:Creating a Backup>` as well as a :ref:`backup of your chord library<Device Manager:Creating a Backup>` and a :ref:`backup of your GTM settings<Device Manager:Creating a Backup>`. The update might reset those, so it's important that you keep backup files handy. For instructions on how to restore backed up files, visit the :ref:`Backups<Device Manager:Restoring from a Backup>`    section.

The Master Forge supports over-the-air (OTA) updates. You can follow the steps below to update your Forge:
    #. Head to the `CharaChorder Device Manager <https://charachorder.io/ccos/>`__
    #. If you're not on the Firmware Updates page yet, click ``CCOS Updates`` on the bottom left of the page.

        .. _Firmware Updates Page:
        .. image:: /assets/images/DM-CCOS-button.jpg
          :width: 600
          :alt: CCOS button
    #. Out of the options at the top, select ``m4g_s3``
       
        .. _Firmware Selection:
        .. image:: /assets/images/M4G-Firmware-selection.jpg
          :width: 600
          :alt: The correct firmware to select
    #. You can compare the latest release (the version at the top of the list) with your device's version. Select your desired version.
    #. If you haven't done so already, Connect your device to the Manager by clicking "Connect" at the bottom of the page
        
        .. _Connect Button:
        .. image:: /assets/images/FW-connect-button.jpg
          :width: 600
          :alt: Connect Button on Device Manager
    #. When the popup box comes up that reads “charachorder.io wants to connect to a serial port”, choose your Master Forge, then click the blue “connect” button
     
        .. _Serial Port Popup:
        .. image:: /assets/images/SerialPort-Message.jpg
          :width: 600
          :alt: Popup to select serial device
    #. Click the blue "Apply Update" button
        
        .. _Apply Update Button:
        .. image:: /assets/images/DM-applyupdate-button.jpg
          :width: 600
          :alt: Apply Update Button

Your device will reboot on its own and will have the new firmware on it once it starts up again. You can :ref:`check your firmware<M4G-checking-your-devices-firmware>` to make sure that the update has been applied correctly.


.. Dropdown: Only use in Emergency
	
	If, for some reason, you weren't able to complete an OTA update, you can follow the steps below to update your CCOS manually.

 	Doing it manually, the Master Forge must be updated one :ref:`digitizer<Master Forge:The Digitizers>` at a time.
 		#. On a chromium based browser, such as Chrome, go to the CharaChorder `Device Manager <https://charachorder.io/ccos/>`__ 
 		#. If not auto-connected, click "Connect"

       		   .. _Connect Button:
     		   .. image:: /assets/images/FW-connect-button.jpg
    		      :width: 600
    		      :alt: Connect Button on Device Manager
 		#. When the popup box comes up that reads “manager.charachorder.com wants to connect to a serial port”, choose the CCOS device you wish to update, then click the blue “connect” button

        		 .. _Serial Port Popup:
      		  .. image:: /assets/images/SerialPort-Message.jpg
       		   :width: 600
        		  :alt: Popup to select serial device
 		#. If not already on the Firmware Updates page, click "CCOS Updates" at the bottom left of the page

        		 .. _Firmware Updates Page:
     		   .. image:: /assets/images/DM-CCOS-button.jpg
     		     :width: 600
      		    :alt: CCOS button
 		#. You can compare the latest release (the version at the top of the list) with your device's version. Select your desired version.
 		#. Use the blue "Bootloader" text to reboot your device into bootloader

       		  .. _Bootloader button:
      		  .. image:: /assets/images/DM-Bootloader-button.jpg
        		  :width: 600
        		  :alt: Bootloader button
 		#. Click the blue "CURRENT.UF2" text to download the firmware file

      		   .. _Current.uf2 button:
      		  .. image:: /assets/images/DM-UF2-button.jpg
       		   :width: 600
        		  :alt: CURRENT.UF2 button

			.. warning::
   				IMPORTANT: Make sure that the file you download is named exactly like this: CURRENT.UF2 . If there are any other characters in the file name, the file will not work. “CURRENT.UF2(1)” will NOT work. Additionally, the file name is case sensitive; all letters must be capitalized.


    
 		#. Copy the CURRENT.UF2 file that you just downloaded and paste it into the Forge drive in your file explorer
 		#. When your computer asks you how you would like to resolve the issue of two files with the same name, select “Replace file”.

			At this point, your Forge will automatically reboot and the Forge drive will have disappeared. Congratulations! You have successfully updated your device. You can check your device’s firmware version by following the steps :ref:`here<m4g-checking-your-devices-firmware>`.

 		#. Now, back in the `Firmware Updates page <https://charachorder.io/ccos/>`__, select ``m4gr_s3``
 		#. If you haven't done so already, Connect your device to the Manager again by clicking "Connect" at the bottom of the page

      		   .. _Connect Button:
     		   .. image:: /assets/images/FW-connect-button.jpg
     		     :width: 600
     		     :alt: Connect Button on Device Manager
 		#. When the popup box comes up that reads “charachorder.io wants to connect to a serial port”, choose your Master Forge, then click the blue “connect” button

        		 .. _Serial Port Popup:
       		 .. image:: /assets/images/SerialPort-Message.jpg
       		   :width: 600
      		    :alt: Popup to select serial device
 		#. Use the blue "Bootloader" text to reboot the right digitizer into bootloader

     		    .. _Bootloader button:
    		    .. image:: /assets/images/DM-Bootloader-button.jpg
     		     :width: 600
    		      :alt: Bootloader button
 		#. Click the blue "CURRENT.UF2" text to download the firmware file

      		   .. _Current.uf2 button:
       		 .. image:: /assets/images/DM-UF2-button.jpg
        		  :width: 600
        		  :alt: CURRENT.UF2 button

			.. warning::
   				IMPORTANT: Make sure that the file you download is named exactly like this: CURRENT.UF2 . If there are any other characters in the file name, the file will not work. “CURRENT.UF2(1)” will NOT work. Additionally, the file name is case sensitive; all letters must be capitalized.

		 #. Copy the CURRENT.UF2 file that you just downloaded and paste it into the Forge drive in your file explorer
		 #. When your computer asks you how you would like to resolve the issue of two files with the same name, select “Replace file”.

		Once again, your Forge will automatically reboot and the
Forge drive will have disappeared. You can check your device’s firmware
version by following the steps :ref:`here<m4g-checking-your-devices-firmware>`.


Understanding the Settings
----------------------------

The Forge has operational settings that are user-configurable. Since the
device is plug-and-play, you don’t need any software to edit the
device’s settings; all you need is a place to type text. We call these
settings the Generative Text Menu, or GTM for short.

You can access the :doc:`GTM<GenerativeTextMenu>` by
:doc:`chording<Chords>` both pinkies `north`_ on any space that
allows text entry such as a notepad app. For an explanation on chords
and how to perform them, visit the :doc:`Chords<Chords>` section.

Once you perform the chord to call up the :doc:`GTM<GenerativeTextMenu>`, your Forge will type out the menu and its options.
It will look something like this:


``Master Forge GTM [ >K<eyboard || >M<ouse || >C<hording || >D<isplay || >R<esources ]``

Navigation around this menu is based on letter-presses. In the example
above, you can select the desired submenu by pressing the letter between
the angle brackets (for example: ``>K<``) in your target submenu on your
CharaChorder One. In the example above, you would press ``K`` for
Keyboard, ``M`` for Mouse, ``C`` for Chording, ``D`` for Display, and
``R`` for Resources.

In some submenus, you will see numeric values. In order to increase or
decrease these, you can use the arrow keys on your :ref:`digitizers<The Digitizers>`.

``CharaChorder > Chording > Press Tolerance [ Use up/down arrow keys to adjust: 25ms ]``

You can read an explanation on all of the settings on your CharaChorder device :doc:`here<GenerativeTextMenu>`.

Learning the Layout
---------------------

The default on the Master Forge :ref:`digitizers<The Digitizers>`, which we will refer to as the M4 English layout, has been designed to favor :doc:`bigrams<Logic behind the Layout>` and :doc:`trigrams<Logic behind the Layout>` commonly used in the English language while making the letters accessible for a logical choice of :doc:`lexical<Chords>`. You can find the map below.

.. note::
   General consensus amongst the community is that, while not perfect,
   the letter arrangement of the default layout is good enough that further modifications would provide very little benefit
   considering 500+ WPM have been reached in peak conditions.
   
   **Most commonly only special character and number placement are changed**, for example to benefit coding.

   Some exceptions include optimizing for VIM bindings, though people have successfully used the default layout for VIM as well
   and benefits of such modifications are debatable.


.. _M4English Layout:
.. image:: /assets/images/M4-Layout.png
  :width: 1200
  :alt: M4 English Layout

Layers
~~~~~~

The Master Forge layout has 3 layers: the base layer called the A1 layer,
the secondary layer referred to as A2, and the tertiary layer named A3.
Being as the Master Forge has 8 switches on each :ref:`digitizer<Master Forge:The Digitizers>`, and taking
into account that each switch can access 4 different individually assignable positions, and
considering that each layer has access to all of those 8 switches, we
have over 190 assignable slots between the two :ref:`digitizers<Master Forge:The Digitizers>`.

In this section, we’ll refer only to the default M4 English layout. If
you have modified your layout to something different, then the next
portion might not be accurate for your device. If you have purchased
your device from CharaChorder, then the following is accurate to your
device.

By default, auxiliary layers are accessible by pressing and holding the "layer access" keys. This creates a "shift" into one of the auxiliary layers, but only momentarily. Currently, there is a "hacky" way to make it so that layers are toggled instead of shifted, but this is not an official feature. Toggleable layers, as they may exist in current CCOS builds, has not been tested extensively and cannot be guaranteed to come issue-free.

.. _Toggleable Layers:
.. dropdown:: Toggleable Layers
   
    If you have no interest in knowing why this works, you may skip down to the steps described below in order to enable toggleable layers.
    CCOS devices use a "shifted' layer method that requires a press and hold of a key in order to access keys on auxiliary layers. By default, the layer access keys tell the device to go into that layer. Releasing the switch tells the device to return to the base layer, since the same "location" is mapped to the layer access button on the target layer as well. We can exploit this functionality and force the CCOS device to stay in a certain layer by simply removing the layer access key from the target layer. That way, the device doesn't know that it should return to the base layer when you release the switch. 

    In order to set your device up to have toggleable layers instead of shifted layers, you'll need to head to the `Device Manager <https://charachorder.io/config/layout/>`__ and remap some keys. We'll describe here how to remap the A2 layer access key, but the same steps apply to the A3 layer. These instructions assume that you have already connected your device to the `Device Manager <https://charachorder.io/config/layout/>`__. 
    
    #. Make sure that the A2 layer access key is mapped to the key of your choice on the Alpha layer (A1 layer). This is the key you will use to toggle into the A2 layer
    #. On the A2 layer, find the same location that you mapped the A2 layer access key and change that key (on the A2 layer) to ``No Key Pressed``. This change is what prevents your device from shifting back into the A1 layer
    #. On the A2 layer, choose another location and map the A2 layer access key there. This is the key that you will use to return to the Alpha layer.

A1 Layer
^^^^^^^^

.. _M4G Alpha Layer:
.. image:: /assets/images/AlphaL.jpg
  :width: 1200
  :alt: The Alpha Layer

The A1 layer is the main layer that is active by default. The M4 English
layout has all 26 letters of the English alphabet on the A1 layer so
that you can access all letters without having to hold or press anything
else. Your device will always be in the A1 layer upon boot.

While the A1 layer is active on the Forge :ref:`digitizers<Master Forge:The Digitizers>` by default, you can map the A1 access key, which bears the name “Primary Keymap (Left)” or “Primary Keymap (Right)”, in the
`Device Manager <https://charachorder.io/config/layout/>`__.

.. note::
    Mapping the A1 layer access key is redundant unless you setup your device to :ref:`toggle between layers<Toggleable Layers>`, instead of shifting between them.


A2 Layer
^^^^^^^^

.. _M4G Num Layer:
.. image:: /assets/images/NumberL.jpg
  :width: 1200
  :alt: The Numeric Layer

The A2 layer, sometimes referred to as the “number layer”, is accessible
with the :doc:`A2 access key<CharaChorder Keys>`. In the above :ref:`graphic<CCEnglish Layout>`, you’ll see this labeled
as “num-shift.” In the `Device Manager <https://charachorder.io/config/layout/>`__,
this key has the name “Numeric Layer (Left)” and “Numeric Layer (Right)”, one for each :ref:`digitizer<Master Forge:The Digitizers>`. 

By default, the A2 Layer is accessible by pressing and holding either
pinky finger outwards, that is, west on the left pinky or east on the
right pinky. You do not have to hold them both, only one is required.
Any key that is on the A2 Layer can only be accessed by pressing and
holding the A2 Layer access key along with the target key. You do not
need to :doc:`chord<Chords>` the keys together; it’s only required that the
A2 Layer access key is pressed while the target key is pressed.

.. note::
   EXAMPLE: On the M4 English layout, you can access the number
   ``4`` by pressing and holding the right pinky to the east and the
   left middle finger to the east.


A3 Layer
^^^^^^^^

.. _M4G Function Layer:
.. image:: /assets/images/FunctionL.jpg
  :width: 1200
  :alt: The Function Layer

The A3 layer, sometimes referred to as the “function layer”, is
accessible with the :ref:`A3 access key<CharaChorder Keys>`. This key is not
in the above :ref:`graphic<CCEnglish Layout>`, and instead
is accessible by [INFO]. In the `Device Manager <https://charachorder.io/config/layout/>`__,
this key has the name “Function Layer (Left)” and “Function Layer (Right)”, one for each :ref:`digitizer<Master Forge:The Digitizers>`.

By default, the A3 Layer is accessible by [INFO]. You do not have to hold them both in order to access the A3 layer. Any key that is on the A3 Layer can only be accessed by pressing and holding the :doc:`A3 access key<CharaChorder Keys>`, along with the target key. You do not need to :doc:`chord<Chords>` the keys together; it’s only required that the A3 layer access key is pressed while the target key is pressed.

.. note::
   EXAMPLE: On the M4 English layout, you can access the F1 key by
   pressing and holding [INFO] and adding the letter ``a`` or ``r`` (location of number 1 on the default layout) to it.


Shift Modifier
^^^^^^^^^^^^^^

.. dropdown:: List of shifted key actions
        
        .. csv-table:: Shifted Key Actions
           :header-rows: 1
           :stub-columns: 0
           :widths: auto

           "Alpha key", "Shifted key"
           "`", "~" 
           "1", "\!"
           "2", "\@"
           "3", "\#"
           "4", "\$" 
           "5", "\%"
           "6", "\^"
           "7", "\&"
           "8", "\*" 
           "9", "\("
           "0", "\)"
           "\-", "\_"
           "=", "\+" 
           "[", "\{"
           "]", "\}"
           "\\", "\|"
           ";", ":" 
           "\'", """"
           "\,", "\<"
           ".", ">"
           "/", "?"
   
 

On top of the three aforementioned layers, the :doc:`Shift key<CharaChorder Keys>`, which is a :doc:`modifier<Glossary>`, can be used to access some extra keys. The Shift keypress works just like it
would on a traditional keyboard. You can capitalize letters and access
symbols attached to numbers. This works with any key on any layer, just
like other modifiers (such as Ctrl and Alt). The Shift modifier output
is currently controlled by the Operating System that your Forge is
plugged into, and it is not possible to customize their outputs.

In the above graphic, you’ll see
the Shift key labeled as “Shift”. In the `Device Manager <https://charachorder.io/config/layout/>`__,
this key has the name “Shift Keyboard Modifier (Left)” and “Shift Keyboard Modifier (Right)”, one for each :ref:`digitizer<The Digitizers>`.

By default, the Shift is accessible by pressing and holding either pinky
finger inwards, that is, east on the left pinky or west on the right
pinky. You do not have to hold them both, only one is required. Any key
that requires the Shift Modifier can only be accessed by pressing and
holding the Shift key along with the target key. You do not need to
:doc:`chord<Chords>` the keys together; it’s only required that the Shift
key is pressed while the target key is pressed.

.. note::
   EXAMPLE: On the M4 English layout, you can access the capital
   ``A`` by pressing and holding the left pinky to the east and the
   right index finger to the west.

   On the M4 English layout, you can access the ``@`` symbol by pressing
   and holding both pinkies to the east and the left index south.

Configurability
~~~~~~~~~~~~~~~

The Master Forge's layout is configurable, which means that you can
:doc:`remap<Glossary>` almost all keys. Though the M4 English
layout has been optimized for writing in English by
:doc:`chentry<Glossary>` and :doc:`chording<Chords>`, some users may
choose to :doc:`remap<Glossary>` their device’s layout to better
suit their personal needs. For a thorough explanation on how remapping
works and how to remap your device, visit the :ref:`remapping section<Device Manager:Remapping>`

Master Forge Configurations
****************************

When the Master Forge was `unveiled <https://youtu.be/fux9gU3M25E?si=u4KW7OaUUUNINfKD&t=1025>`__ in Novemeber of 2023, CharaChorder began taking pre-orders offering everyone the same bundle. In September of 2024, CharaChorder ran a `Kickstarter <https://www.kickstarter.com/projects/charachorder/the-master-forge-a-keyboard-built-for-you>`__ campaign for the Master Forge for 5 weeks, offering three different tiers, each with a different configuration. After the Kickstarter campaign finished, the Master Forge went on back-order sale on the `Forge website <https://forgekeyboard.com>`__. The following section identifies what each of these 5 bundles included. 

Forge Website Pre-Orders
-------------------------
The Master Forge was announced at CharaChorder's annual `ChorderCon in 2023 <https://youtu.be/fux9gU3M25E?si=WmNs4bxXJcg0JbKM>`__. It was announced alongside the Forge brand and other Forge products such as the Coder's Forge and the Gamer's Forge. After a surge in Master Forge orders, the Master Forge was given development priority. Every Master Forge order placed between November 2023 and early August 2024 includes:

    - :ref:`One (1) Left Digitizer<Master Forge:The Digitizers>`
    - :ref:`One (1) Right Digitizer<Master Forge:The Digitizers>`
    - :ref:`One (1) Electrical Bridge Connector<Master Forge:The Bridge Connector>`
    - :ref:`One (1) Mechanical Bridge Bolt-On<Master Forge:The Bridge Connector>`
    - :ref:`One (1) USB-A to USB-C Power Cable<Master Forge:Connections>`
    - :ref:`One (1) Ergo Bolt-On set<Bolt-Ons:Ergo>`
    - :ref:`Two (2) Forge Trackball Bolt-Ons<Bolt-Ons:Trackball>`
    - :ref:`One (1) Tactical Carrying Case<Case>`
    - :ref:`One (1) Forge Cleat<Add-Ons:Cleat>`
    - One (1) M3 Allen wrench
    - :ref:`One (1) Original Backer Deskmat<Add-Ons:Original Backer Deskmat>`

.. note::

    As of March of 2025, the Forge Trackball Bolt-On has not finished development. As such, some pre-orders and Kickstarter backers may not receive their trackball bolt-ons with their Master Forge. These will be shipped at a later time.


Kickstarter Orders
----------------------

The Master Forge Kickstarter campaign launched on August 27 of 2024 and closed on October 7 of 2024. The bundles offered on Kickstarter can be separated into three: Basic, Premium, and Super.  

Basic
~~~~~~
The Basic backer tier on Kickstarter includes the following:

    - :ref:`One (1) Left Digitizer<Master Forge:The Digitizers>`
    - :ref:`One (1) Right Digitizer<Master Forge:The Digitizers>`
    - :ref:`One (1) Electrical Bridge Connector<Master Forge:The Bridge Connector>`
    - :ref:`One (1) Mechanical Bridge Bolt-On<Master Forge:The Bridge Connector>`
    - :ref:`One (1) USB-A to USB-C Power Cable<Master Forge:Connections>`
    - :ref:`One (1) "Originial Backer" Tactical Carrying Case<Case>`
    - One (1) M3 Allen Wrench
    - Unlimited Forge CAD Access

Premium
~~~~~~~~
The Premium backer tier on Kickstarter includes the following:

    - :ref:`One (1) Left Digitizer<Master Forge:The Digitizers>`
    - :ref:`One (1) Right Digitizer<Master Forge:The Digitizers>`
    - :ref:`One (1) Electrical Bridge Connector<Master Forge:The Bridge Connector>`
    - :ref:`One (1) Mechanical Bridge Bolt-On<Master Forge:The Bridge Connector>`
    - :ref:`One (1) USB-A to USB-C Power Cable<Master Forge:Connections>`
    - :ref:`One (1) USB-C to USB-C Cable<Master Forge:Connections>`
    - :ref:`One (1) Forge Trackball Bolt-On<Bolt-Ons:Trackball>`
    - :ref:`One (1) "Originial Backer" Tactical Carrying Case<Case>`
    - :ref:`One (1) "Original Backer" Deskmat<Add-Ons:Original Backer Deskmat>`
    - One (1) M3 Allen Wrench
    - :ref:`One (1) Forge Cleat<Add-Ons:Cleat>`
    - :ref:`Four (4) Ergo Bolt-On sets<Bolt-Ons:Ergo>`
    - Unlimited Forge CAD Access
    - 2 Years of VIP Membership


Super
~~~~~~~

    - :ref:`One (1) Left Digitizer<Master Forge:The Digitizers>`
    - :ref:`One (1) Right Digitizer<Master Forge:The Digitizers>`
    - :ref:`One (1) Electrical Bridge Connector<Master Forge:The Bridge Connector>`
    - :ref:`One (1) Mechanical Bridge Bolt-On<Master Forge:The Bridge Connector>`
    - :ref:`One (1) USB-A to USB-C Power Cable<Master Forge:Connections>`
    - :ref:`One (1) USB-C to USB-C Cable<Master Forge:Connections>`
    - :ref:`One (1) Forge Trackball Bolt-On<Bolt-Ons:Trackball>`
    - :ref:`One (1) "Originial Backer" Tactical Carrying Case<Case>`
    - :ref:`One (1) "Original Backer" Deskmat<Add-Ons:Original Backer Deskmat>`
    - One (1) M3 Allen Wrench
    - :ref:`One (1) Forge Cleat<Add-Ons:Cleat>`
    - :ref:`Four (4) Ergo Bolt-On sets<Bolt-Ons:Ergo>`
    - Unlimited Forge CAD Access
    - Lifetime VIP Membership
    - GTM Immortalization
    - Digitizer Exoskeleton signed by Riley Keen, Founder and CEO of CharaChorder


Post-Kickstarter
-----------------

Once the Kickstarter campaign ended, the Master Forge was put on sale for pre-orders on the `Forge Website <https://forgekeyboard.com>`__. Orders placed on the Forge website starting October of 2024 include:

    - :ref:`One (1) Left Digitizer<Master Forge:The Digitizers>`
    - :ref:`One (1) Right Digitizer<Master Forge:The Digitizers>`
    - :ref:`One (1) Electrical Bridge Connector<Master Forge:The Bridge Connector>`
    - :ref:`One (1) Mechanical Bridge Bolt-On<Master Forge:The Bridge Connector>`
    - :ref:`One (1) USB-A to USB-C Power Cable<Master Forge:Connections>`
    - :ref:`One (1) Tactical Carrying Case<Case>`
    - One (1) M3 Allen wrench


